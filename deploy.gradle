apply plugin: 'maven-publish'

 publishing {
    repositories {
        maven {
            // change to point to your repo, e.g. http://my.org/repo
            url "http://nexus.local:30004/repository/maven-snapshots/"
            credentials {
                username = "${nexusUser}"
                password = "${nexusPassword}"
            }
        }
    }

    publications {
        maven(MavenPublication) {
            artifactId "$project.name"
            version "$project.version-SNAPSHOT"
            from components.java
        }
    }
}
